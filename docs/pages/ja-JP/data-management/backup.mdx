---
title: バックアップサービス
ogImageTitle: バックアップサービス
ogImageSubtitle: Zeaburでサービスをバックアップする
---

import { Callout } from 'nextra/components'

# バックアップサービス

Zeaburは、Dev Planなどの有料プランにおいて、<abbr title="お客様のホストデータとは別に保存されるバックアップ">オフサイトバックアップ</abbr> 機能を提供しています。お客様のバックアップは、Amazon S3上にある弊社のストレージスペースに安全かつ期間限定で保存され、既存のホストスペースを占有することなく、追加料金も発生しません。

データベースサービスについては、Zeaburはオンラインバックアップと自動バックアップをサポートしており、データベースを停止することなくバックアップを行うことができます。その他の <abbr title="Stateful、ディスクがマウントされたサービス">ステートフル</abbr> なサービスについても、一時停止後のオフラインオフサイトバックアップ機能を提供しています。

## オフラインオフサイトバックアップ

<Callout>
    [永続ストレージ](/data-management/volumes)をマウントしていない場合、バックアップ機能は表示されません。「バックアップ」は「永続ストレージ」内のデータのみをバックアップし、その他のサービス内のファイル（ソースコードなど）はバックアップされません。
</Callout>

まず、サービスを一時停止する必要があります。サービスの「設定」→「サービスの一時停止」をクリックすると、サービスが一時停止します。なお、一時停止してもデータは失われません。

次に、サービスの「バックアップ」タブをクリックすると、「バックアップ」ボタンが表示されます。

![backup tab](/data-management/backup/backup-tab.webp)

クリックすると、Zeaburがバックグラウンドで自動的にバックアップを行います。数分お待ちください。バックアップが完了すると、ダウンロードボタンが表示され、クリックするとバックアップファイルをダウンロードできます。バックアップファイルの内容は、サービスにマウントされた「永続ストレージ」フォルダの完全な内容です。

![backup success](/data-management/backup/backup-success.webp)

バックアップが完了したら、「サービスステータス」で「サービスの再起動」をクリックして、サービスを再開できます。

## オンラインオフサイトバックアップ

ZeaburはPostgreSQL、MySQL、MariaDB、MongoDBなどのデータベースのオンラインオフサイトバックアップをサポートしており、サービスを停止することなく安全にバックアップを行うことができます。また、「オンラインオフサイトバックアップ」サービスは自動バックアップもサポートしています。

![online backup](/data-management/backup/online-backup.webp)

「オフラインオフサイトバックアップ」と同様に、「バックアップ」ボタンをクリックすると、Zeaburがバックグラウンドで自動的にバックアップを行います。数分お待ちください。バックアップが完了すると、ダウンロードボタンが表示され、クリックするとバックアップファイルをダウンロードできます。

バックアップファイルの内容は、データベースの標準エクスポートファイル（PostgreSQL、MySQLの場合は`.sql`ファイル、MongoDBの場合は各種`.bson`ファイル）となります。これらのバックアップファイルは、後でデータベース組み込みのリストアツール（`psql`、`mongoimport`など）を使用して復元することができます。

### 自動バックアップ

Zeaburは自動バックアップもサポートしており、現在は毎日定時にバックアップを行うことができます。

![auto backup](/data-management/backup/auto-backup.webp)

「自動バックアップ」をオンにすると、バックアップのUTC時間帯を設定できます。通常、サービスのトラフィックが最も少ない時間帯にバックアップを行うのが望ましいです。横の「At your local time」を参照して、このUTC時間帯が現地時間の何時に相当するかを確認できます。

## バックアップの保持期間と API による取得方法

Zeabur は**バックアップを 7 日間のみ保持します**。この期間を超えたバックアップは自動的に削除されます。長期間バックアップを保存する必要がある場合は、バックアップファイルをダウンロードして別途保管してください。

現在、Zeabur はお客様ご自身の Amazon S3 ストレージへのバックアップ保存をサポートしていませんが、プログラムを作成して [Zeabur Public API](/developer/public-api) を呼び出すことで、バックアップを取得し、お客様ご自身の任意のストレージに保存することができます：

```graphql
query Backups($environmentId: ObjectID!, $serviceId: ObjectID!) {
  backups(environmentID: $environmentId, serviceID: $serviceId) {
    createdAt
    downloadURL
    status
  }
}
```

返却フォーマット例：

```json
{
  "data": {
    "backups": [
      {
        "createdAt": "2025-06-23T16:00:10.864Z",
        "downloadURL": "https://backup.zeabur.com/XXXXXX",
        "status": "SUCCESS"
      }
    ]
  }
}
```

その中のバックアップファイルダウンロードリンク (`downloadURL`) とバックアップ時間 (`createdAt`) を組み合わせて、バックアップファイルを保存することができます。
