---
title: 永続ストレージ（ディスク）
ogImageTitle: 永続ストレージ
ogImageSubtitle: Zeaburで永続的にデータを保存
---

import { Callout } from 'nextra/components'

# 永続ストレージ

Zeaburでは、ディスク（「永続ストレージ」とも呼ばれる）をマウントしてサービス内でデータを永続的に保存することができます。通常、Zeaburのサービスは再起動後にデータがコンテナのデフォルト値にリセットされます（いわゆる<abbr title="Stateless">ステートレス</abbr>）が、データを永続的に保存する必要がある場合（つまり、サービスを<abbr title="Stateful">ステートフル</abbr>にする場合）、永続的に保存したいディレクトリにディスクをマウントすることで、サービスが再起動してもデータが失われることはありません。

ディスクの料金については[料金表](/billing/pricing)をご参照ください。

<Callout type="info">
    設定ファイルのアップロードだけが目的の場合は、[設定ファイルエディタ](/data-management/config-edit)を使用する方が便利で、追加料金も発生しません。
</Callout>

## 注意事項

- Zeabur のサービスはデフォルトで「ゼロダウンタイム再起動」に対応しており、サービスを再起動してもトラフィックは新しいインスタンスに自動的に切り替わるため、ユーザーへの影響はほとんどありません。
- しかし、Volumes（永続ストレージ）を有効にすると、サービスは**ゼロダウンタイム再起動に対応できなくなります**。再起動のたびにサービスが完全に停止してから再起動されるため、短時間のサービス中断が発生します。

## ディスクのマウント

ディスクをマウントしたいサービスのページを開き、「ディスク」タブをクリックすると、「Mount Volumes」ボタンが表示されます。クリックすると、2つのフィールドが表示されます：

![mount volumes](/data-management/volumes/mount-volumes.webp)

- **Volume ID**はこのディスクの固有の識別子で、シンプルな名前（例：`data`、`cache`、`photos`）でディスクを表現できます。この識別子は実際のマウント結果とは無関係です。
- **Mount Directory**はディスクをマウントするディレクトリ、つまり「永続的に保存したいフォルダ」です。例えば、サービス内で`/data`ディレクトリを永続的に保存したい場合は、ここに`/data`と入力します。

**マウント後、このディレクトリのデータは完全に消去されます**。重要なデータがある場合は、マウントしてサービスを再起動する前にダウンロードしてデータの損失を防ぎ、マウント後に再度データをインポートしてください。

## ディスクのアンマウント

永続ストレージの課金を停止したい場合は、ディスク横の「削除」ボタンをクリックしてください。削除後、このストレージの課金は停止されます。削除後、このディレクトリのデータは**完全に消去され**、**復元できません**のでご注意ください。

![unmount volumes](/data-management/volumes/unmount-volumes.webp)

## Template YAMLでのディスクの使用

「サービス仕様」で`volumes`を使用してディスクをマウントすることができます。詳細については[「YAMLからテンプレートを作成」](/template/template-in-code)の記事をご参照ください。
