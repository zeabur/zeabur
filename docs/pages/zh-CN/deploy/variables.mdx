---
title: 设置环境变量
ogImageTitle: 设置环境变量
ogImageSubtitle: 在 Zeabur 中设置环境变量
---

# 设置环境变量

环境变量用于配置你的应用程序。Zeabur 提供为服务设置环境变量的方式。

## 添加、编辑、删除

在服务的 **Variables** 标签页中设置环境变量，并可通过 **Add Variables** 添加。

![environment variables](/environment/add-variables.png)

Zeabur 会自动将这些环境变量注入服务。

- `<YOUR_SERVICE_NAME>_HOST`：服务的 host。
- `PORT`：服务的端口。
- 其他如数据库凭证（[PostgreSQL](https://zeabur.com/templates/B20CX0)）或 [Redis](https://zeabur.com/templates/KQZHXT) 连接字符串等。

无需手动设置这些变量。

![db env](/environment/env_var.png)

鼠标悬停在变量上可选择编辑或删除。

![hovering](/environment/env_var_hover.png)

## 原始编辑

若需批量添加多个变量，使用批量编辑功能。

点击 **Edit as Raw** 按钮进入批量模式，以 `.env` 文件格式设置服务环境变量。

![edit-raw](/environment/edit_raw_env_var.png)

## 变量引用

Zeabur 支持使用简单模板语法引用其他变量：

1. 在设置变量时直接使用模板语法引用。
2. 用 `${}` 包围现有变量名。

**示例：**

若有 `USERNAME` 和 `PASSWORD`，可设置新变量 `AUTH_INFOR`：

```bash
AUTH_INFOR=${USERNAME}:${PASSWORD}
```

![reference](/environment/var-reference.png)

这样，`USERNAME` 和 `PASSWORD` 的值会自动组合并注入 `AUTH_INFOR`。

## 特殊变量

“特殊变量”是 Zeabur 预定义的环境变量，可直接使用。

### 引用方式

- Zeabur 环境变量输入框：使用 `${VARIABLE}` 格式插入。
- 应用内：同普通环境变量（如 `process.env.VARIABLE`）。

### 变量优先级顺序

服务内变量展开顺序：

- 当前服务定义的环境变量优先获取。
- 未定义则获取其他服务暴露的变量。
- 未定义则获取特殊变量。

### 变量列表

#### 主机名/端口

- `${ZEABUR_[PORTNAME]_URL}`：特定端口对应的 URL（如 `https://test.zeabur.app`）。Domain 部分设置。对于 Git 服务，`PORTNAME` 始终为 `web`。
- `${ZEABUR_[PORTNAME]_DOMAIN}`：对应域名。
- `${CONTAINER_HOSTNAME}`：当前服务在 Zeabur 项目中的主机名。通常设 `${MYSQL_HOST}` = `${CONTAINER_HOSTNAME}` 并暴露。
- `${[PORTNAME]_PORT}`：Prebuilt 服务定义的端口（如 `DATABASE_PORT` = 3306）。仅当前服务可见。Git 服务为 8080（用 `${PORT}`）。

#### Zeabur 信息

- `${ZEABUR_SERVICE_ID}`：服务 ID
- `${ZEABUR_PROJECT_ID}`：项目 ID
- `${ZEABUR_ENVIRONMENT_ID}`：服务环境 ID
- `${ZEABUR_USER_ID}`：创建项目用户 ID

#### Git 信息（仅 Git 服务构建阶段）

- `${ZEABUR_GIT_COMMIT_SHA}`：当前部署的 commit SHA
- `${ZEABUR_GIT_AUTHOR}`：commit 作者
- `${ZEABUR_GIT_BRANCH}`：分支名
- `${ZEABUR_GIT_REPO_NAME}`：仓库名
- `${ZEABUR_GIT_REPO_OWNER}`：仓库拥有者
- `${ZEABUR_GIT_COMMIT_MESSAGE}`：commit 消息

#### 实用工具

- `${PASSWORD}`：Zeabur 为每个服务生成的随机密码。
