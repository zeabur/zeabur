---
title: 設定環境變數
ogImageTitle: 設定環境變數
ogImageSubtitle: 在 Zeabur 中設定環境變數
---

# 設定環境變數

環境變數用於配置你的應用程式。Zeabur 提供為服務設定環境變數的方式。

## 新增、編輯、刪除

在服務的 **Variables** 標籤頁中設定環境變數，並可透過 **Add Variables** 新增。

![environment variables](/environment/add-variables.png)

Zeabur 會自動將這些環境變數注入服務。

- `<YOUR_SERVICE_NAME>_HOST`：服務的 host。
- `PORT`：服務的連接埠。
- 其他如資料庫憑證（[PostgreSQL](https://zeabur.com/templates/B20CX0)）或 [Redis](https://zeabur.com/templates/KQZHXT) 連接字串等。

無需手動設定這些變數。

![db env](/environment/env_var.png)

滑鼠懸停在變數上可選擇編輯或刪除。

![hovering](/environment/env_var_hover.png)

## 原始編輯

若需一次新增多個變數，使用批量編輯功能。

點擊 **Edit as Raw** 按鈕進入批量模式，以 `.env` 檔案格式設定服務環境變數。

![edit-raw](/environment/edit_raw_env_var.png)

## 變數引用

Zeabur 支援使用簡單模板語法引用其他變數：

1. 設定變數時直接使用模板語法引用。
2. 用 `${}` 包圍現有變數名稱。

**範例：**

若有 `USERNAME` 與 `PASSWORD`，可設定新變數 `AUTH_INFOR`：

```bash
AUTH_INFOR=${USERNAME}:${PASSWORD}
```

![reference](/environment/var-reference.png)

如此，`USERNAME` 與 `PASSWORD` 的值會自動組合並注入 `AUTH_INFOR`。

## 特殊變數

「特殊變數」是 Zeabur 預定義的環境變數，可直接使用。

### 引用方式

- Zeabur 環境變數輸入框：使用 `${VARIABLE}` 格式插入。
- 應用內：同普通環境變數（如 `process.env.VARIABLE`）。

### 變數優先順序

服務內變數展開順序：

- 當前服務定義的環境變數優先。
- 未定義則取其他服務暴露的變數。
- 未定義則取特殊變數。

### 變數清單

#### 主機名/連接埠

- `${ZEABUR_[PORTNAME]_URL}`：特定連接埠對應 URL（如 `https://test.zeabur.app`）。Domain 區段設定。Git 服務 `PORTNAME` 恆為 `web`。
- `${ZEABUR_[PORTNAME]_DOMAIN}`：對應域名。
- `${CONTAINER_HOSTNAME}`：Zeabur 專案中當前服務的主機名。通常設 `${MYSQL_HOST}` = `${CONTAINER_HOSTNAME}` 並暴露。
- `${[PORTNAME]_PORT}`：Prebuilt 服務定義的連接埠（如 `DATABASE_PORT` = 3306）。僅當前服務可見。Git 服務為 8080（用 `${PORT}`）。

#### Zeabur 資訊

- `${ZEABUR_SERVICE_ID}`：服務 ID
- `${ZEABUR_PROJECT_ID}`：專案 ID
- `${ZEABUR_ENVIRONMENT_ID}`：服務環境 ID
- `${ZEABUR_USER_ID}`：建立專案使用者 ID

#### Git 資訊（僅 Git 服務建置階段）

- `${ZEABUR_GIT_COMMIT_SHA}`：當前部署的 commit SHA
- `${ZEABUR_GIT_AUTHOR}`：commit 作者
- `${ZEABUR_GIT_BRANCH}`：分支名稱
- `${ZEABUR_GIT_REPO_NAME}`：儲存庫名稱
- `${ZEABUR_GIT_REPO_OWNER}`：儲存庫擁有者
- `${ZEABUR_GIT_COMMIT_MESSAGE}`：commit 訊息

#### 實用工具

- `${PASSWORD}`：Zeabur 為每個服務生成的隨機密碼。
